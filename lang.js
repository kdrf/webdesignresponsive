const translations = {
    en: {
        nav: {
            home: 'Home',
            about: 'About',
            projects: 'Projects',
            contact: 'Contact'
        },
        hero: {
            greeting: "Hi, I'm",
            name: "Kənan",
            roles: [
                "UX/UI Designer",
                "Frontend Developer",
                "Problem Solver"
            ],
            description: "I create user-centered digital experiences that solve real problems through thoughtful research, iterative design, and clean code.",
            cta: {
                projects: "View Projects",
                process: "My Process"
            },
            stats: {
                years: "Years Experience",
                projects: "Projects Completed",
                clients: "Happy Clients"
            },
            scroll: "Scroll to explore"
        },
        featured: {
            title: "Featured Work",
            viewAll: "View All Projects",
            viewCase: "View Case Study"
        },
        process: {
            title: "My Design Process",
            research: {
                title: "Research",
                description: "Understanding user needs through interviews, surveys, and competitive analysis."
            },
            design: {
                title: "Design",
                description: "Creating wireframes and high-fidelity designs with a focus on user experience."
            },
            prototype: {
                title: "Prototype",
                description: "Building interactive prototypes to test and validate design solutions."
            },
            implement: {
                title: "Implement",
                description: "Collaborating with developers to ensure pixel-perfect implementation."
            }
        },
        tools: {
            title: "Tools & Technologies",
            design: {
                title: "Design",
                tools: ["Figma", "Adobe XD", "Sketch", "Photoshop"]
            },
            development: {
                title: "Development",
                tools: ["HTML/CSS", "JavaScript", "React", "Vue.js"]
            },
            prototyping: {
                title: "Prototyping",
                tools: ["Protopie", "Principle", "Framer"]
            }
        },
        testimonials: {
            title: "Client Testimonials"
        },
        blog: {
            title: "UX Insights",
            viewAll: "View All Articles",
            readMore: "Read More"
        },
        about: {
            title: "About Me",
            description: `I'm a passionate UI/UX designer and frontend developer focused on creating beautiful, 
            functional, and user-centered digital experiences. With expertise in both design and development, 
            I bridge the gap between aesthetics and functionality.`,
            skills: {
                title: "My Skills",
                development: {
                    title: "Development",
                    items: ["HTML", "CSS", "JavaScript", "React", "Git"]
                },
                design: {
                    title: "Design",
                    items: ["Figma", "UI Design", "Prototyping", "User Flows"]
                }
            }
        },
        projects: {
            title: "Projects",
            uiux: {
                title: "UI/UX Projects",
                viewDesign: "View Design",
                viewDetails: "View Details"
            },
            dev: {
                title: "Development Projects",
                liveDemo: "Live Demo",
                viewCode: "View Code"
            }
        },
        contact: {
            title: "Get In Touch",
            form: {
                name: "Your Name",
                email: "Your Email",
                message: "Your Message",
                send: "Send Message"
            },
            success: "Message sent successfully!",
            error: "There was an error sending your message."
        }
    },
    tr: {
        nav: {
            home: 'Ana Sayfa',
            about: 'Hakkımda',
            projects: 'Projeler',
            contact: 'İletişim'
        },
        hero: {
            greeting: "Merhaba, Ben",
            name: "Kənan",
            roles: [
                "UX/UI Tasarımcısı",
                "Frontend Geliştirici",
                "Problem Çözücü"
            ],
            description: "Kullanıcı odaklı araştırma, yinelemeli tasarım ve temiz kod ile gerçek problemlere çözüm üreten dijital deneyimler yaratıyorum.",
            cta: {
                projects: "Projeleri Gör",
                process: "Sürecim"
            },
            stats: {
                years: "Yıl Deneyim",
                projects: "Tamamlanan Proje",
                clients: "Mutlu Müşteri"
            },
            scroll: "Keşfetmek için kaydır"
        },
        featured: {
            title: "Öne Çıkan İşler",
            viewAll: "Tüm Projeleri Gör",
            viewCase: "Vaka Çalışmasını Gör"
        },
        process: {
            title: "Tasarım Sürecim",
            research: {
                title: "Araştırma",
                description: "Görüşmeler, anketler ve rekabet analizi ile kullanıcı ihtiyaçlarını anlama."
            },
            design: {
                title: "Tasarım",
                description: "Kullanıcı deneyimine odaklanarak tel çerçeve ve yüksek kaliteli tasarımlar oluşturma."
            },
            prototype: {
                title: "Prototip",
                description: "Tasarım çözümlerini test etmek ve doğrulamak için etkileşimli prototipler oluşturma."
            },
            implement: {
                title: "Uygulama",
                description: "Piksel mükemmelliğinde uygulama için geliştiricilerle işbirliği yapma."
            }
        },
        tools: {
            title: "Araçlar & Teknolojiler",
            design: {
                title: "Tasarım",
                tools: ["Figma", "Adobe XD", "Sketch", "Photoshop"]
            },
            development: {
                title: "Geliştirme",
                tools: ["HTML/CSS", "JavaScript", "React", "Vue.js"]
            },
            prototyping: {
                title: "Prototipleme",
                tools: ["Protopie", "Principle", "Framer"]
            }
        },
        testimonials: {
            title: "Müşteri Yorumları"
        },
        blog: {
            title: "UX İçgörüleri",
            viewAll: "Tüm Yazıları Gör",
            readMore: "Devamını Oku"
        },
        about: {
            title: "Hakkımda",
            description: `Kullanıcı deneyimi ve arayüz tasarımı konusunda tutkulu bir tasarımcı ve geliştiriciyim. 
            Modern web teknolojileri ve kullanıcı odaklı tasarım yaklaşımlarıyla, kullanıcıların severek 
            kullanacağı dijital deneyimler yaratmaya odaklanıyorum.`,
            skills: {
                title: "Yeteneklerim",
                development: {
                    title: "Geliştirme",
                    items: ["HTML", "CSS", "JavaScript", "React", "Git"]
                },
                design: {
                    title: "Tasarım",
                    items: ["Figma", "UI Tasarım", "Prototip", "Kullanıcı Akışı"]
                }
            }
        },
        projects: {
            title: "Projeler",
            uiux: {
                title: "UI/UX Projeleri",
                viewDesign: "Tasarımı Gör",
                viewDetails: "Detayları Gör"
            },
            dev: {
                title: "Geliştirme Projeleri",
                liveDemo: "Canlı Demo",
                viewCode: "Kodu Gör"
            }
        },
        contact: {
            title: "İletişime Geç",
            form: {
                name: "Adınız",
                email: "E-posta Adresiniz",
                message: "Mesajınız",
                send: "Mesaj Gönder"
            },
            success: "Mesajınız başarıyla gönderildi!",
            error: "Mesajınız gönderilirken bir hata oluştu."
        }
    },
    az: {
        nav: {
            home: 'Ana Səhifə',
            about: 'Haqqımda',
            projects: 'Layihələr',
            contact: 'Əlaqə'
        },
        hero: {
            greeting: "Salam, Mən",
            name: "Kənan",
            roles: [
                "UX/UI Dizayner",
                "Frontend Developer",
                "Problem Həll Edən"
            ],
            description: "İstifadəçi araşdırması, iterativ dizayn və təmiz kod vasitəsilə real problemləri həll edən istifadəçi mərkəzli rəqəmsal təcrübələr yaradıram.",
            cta: {
                projects: "Layihələrə Bax",
                process: "Prosesim"
            },
            stats: {
                years: "İl Təcrübə",
                projects: "Tamamlanmış Layihə",
                clients: "Məmnun Müştəri"
            },
            scroll: "Kəşf etmək üçün sürüşdür"
        },
        featured: {
            title: "Seçilmiş İşlər",
            viewAll: "Bütün Layihələrə Bax",
            viewCase: "Keys Araşdırmasına Bax"
        },
        process: {
            title: "Dizayn Prosesim",
            research: {
                title: "Araşdırma",
                description: "Müsahibələr, sorğular və rəqabət analizi ilə istifadəçi ehtiyaclarını başa düşmək."
            },
            design: {
                title: "Dizayn",
                description: "İstifadəçi təcrübəsinə fokuslanaraq wireframe və yüksək keyfiyyətli dizaynlar yaratmaq."
            },
            prototype: {
                title: "Prototip",
                description: "Dizayn həllərini test etmək və təsdiqləmək üçün interaktiv prototiplər yaratmaq."
            },
            implement: {
                title: "Tətbiq",
                description: "Piksel mükəmməlliyində tətbiq üçün developerlər ilə əməkdaşlıq."
            }
        },
        tools: {
            title: "Alətlər və Texnologiyalar",
            design: {
                title: "Dizayn",
                tools: ["Figma", "Adobe XD", "Sketch", "Photoshop"]
            },
            development: {
                title: "Development",
                tools: ["HTML/CSS", "JavaScript", "React", "Vue.js"]
            },
            prototyping: {
                title: "Prototipləmə",
                tools: ["Protopie", "Principle", "Framer"]
            }
        },
        testimonials: {
            title: "Müştəri Rəyləri"
        },
        blog: {
            title: "UX Məqalələri",
            viewAll: "Bütün Məqalələrə Bax",
            readMore: "Davamını Oxu"
        },
        about: {
            title: "Haqqımda",
            description: `İstifadəçi təcrübəsi və interfeys dizaynı sahəsində həvəsli bir dizayner və developerəm. 
            Modern web texnologiyaları və istifadəçi mərkəzli dizayn yanaşmaları ilə, istifadəçilərin sevərək 
            istifadə edəcəyi rəqəmsal təcrübələr yaratmağa fokuslanıram.`,
            skills: {
                title: "Bacarıqlarım",
                development: {
                    title: "Development",
                    items: ["HTML", "CSS", "JavaScript", "React", "Git"]
                },
                design: {
                    title: "Dizayn",
                    items: ["Figma", "UI Dizayn", "Prototip", "İstifadəçi Axını"]
                }
            }
        },
        projects: {
            title: "Layihələr",
            uiux: {
                title: "UI/UX Layihələri",
                viewDesign: "Dizayna Bax",
                viewDetails: "Detallara Bax"
            },
            dev: {
                title: "Development Layihələri",
                liveDemo: "Canlı Demo",
                viewCode: "Koda Bax"
            }
        },
        contact: {
            title: "Əlaqə",
            form: {
                name: "Adınız",
                email: "Email Ünvanınız",
                message: "Mesajınız",
                send: "Mesaj Göndər"
            },
            success: "Mesajınız uğurla göndərildi!",
            error: "Mesaj göndərilərkən xəta baş verdi."
        }
    }
};

// Language utilities
const defaultLang = 'en';
let currentLang = localStorage.getItem('lang') || defaultLang;

// Language metadata
const languageMetadata = {
    en: {
        name: 'English',
        dir: 'ltr',
        code: 'en'
    },
    tr: {
        name: 'Türkçe',
        dir: 'ltr',
        code: 'tr'
    },
    az: {
        name: 'Azərbaycan dili',
        dir: 'ltr',
        code: 'az'
    }
};

function setLanguage(lang) {
    if (!translations[lang]) {
        console.error(`Language ${lang} not supported`);
        return;
    }

    // Add transition class for smooth content change
    document.body.classList.add('lang-transition');
    
    // Update language
    currentLang = lang;
    localStorage.setItem('lang', lang);
    
    // Update HTML lang and dir attributes
    document.documentElement.lang = lang;
    document.documentElement.dir = languageMetadata[lang].dir;
    
    // Update language buttons
    document.querySelectorAll('.lang-btn').forEach(btn => {
        const isActive = btn.dataset.lang === lang;
        btn.classList.toggle('active', isActive);
        btn.setAttribute('aria-pressed', isActive);
    });
    
    // Update content
    updateContent();
    
    // Remove transition class after animation
    setTimeout(() => {
        document.body.classList.remove('lang-transition');
    }, 300);
}

function getText(key) {
    const keys = key.split('.');
    let text = translations[currentLang];
    
    for (const k of keys) {
        if (!text[k]) {
            console.warn(`Translation missing for key: ${key} in language: ${currentLang}`);
            // Fallback to English if translation is missing
            text = translations['en'];
            for (const fallbackKey of keys) {
                if (!text[fallbackKey]) return key;
                text = text[fallbackKey];
            }
            return text;
        }
        text = text[k];
    }
    return text;
}

function updateContent() {
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        element.textContent = getText(key);
    });

    // Update all elements with data-i18n-placeholder attribute
    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        element.placeholder = getText(key);
    });

    // Update all elements with data-i18n-html attribute (for HTML content)
    document.querySelectorAll('[data-i18n-html]').forEach(element => {
        const key = element.getAttribute('data-i18n-html');
        element.innerHTML = getText(key);
    });

    // Reinitialize typed.js if it exists
    if (window.typed) {
        window.typed.destroy();
        initTyped();
    }

    // Dispatch event for other components to update
    window.dispatchEvent(new CustomEvent('languageChanged', {
        detail: { language: currentLang }
    }));
}

// Add CSS for smooth language transitions
const style = document.createElement('style');
style.textContent = `
    .lang-transition {
        transition: opacity 0.3s ease-in-out;
        opacity: 0.5;
    }
    
    .language-switch {
        opacity: 1 !important;
    }
`;
document.head.appendChild(style);

// Initialize language on load
document.addEventListener('DOMContentLoaded', () => {
    setLanguage(currentLang);
}); 